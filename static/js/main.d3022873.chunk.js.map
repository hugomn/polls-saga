{"version":3,"sources":["store/question/types.ts","store/question/actions.ts","components/Question/QuestionCard/template.tsx","components/Question/QuestionCard/index.tsx","components/Question/QuestionList/template.tsx","components/Question/QuestionList/index.ts","components/Question/QuestionDetail/template.tsx","components/Question/QuestionDetail/index.ts","routes.tsx","components/App/index.ts","components/App/template.tsx","service/api.ts","store/question/sagas.ts","store/question/reducers.ts","store/index.ts","index.tsx"],"names":["QuestionsActionTypes","choiceVoteSucceeded","choice","action","QUESTION_CHOICE_VOTE_SUCEEDED","choiceVoteFailed","message","QUESTION_CHOICE_VOTE_FAILED","fetchQuestionSucceeded","question","QUESTION_FETCH_SUCCEEDED","fetchQuestionFailed","QUESTION_FETCH_FAILED","fetchQuestionsSucceeded","questions","QUESTIONS_FETCH_SUCCEEDED","fetchQuestionsFailed","QUESTIONS_FETCH_FAILED","QuestionCard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","showDetail","console","log","state","id","react","Card","fluid","onClick","Content","Header","Meta","Date","published_at","toLocaleString","Description","choices","length","React","connect","dispatch","QUESTION_SHOW_DETAIL","template","QuestionList","getQuestions","Container","as","Grid","stackable","map","Column","computer","tablet","mobile","key","url","Question_QuestionCard","Loader","active","size","inline","style","marginTop","items","QUESTIONS_FETCH_REQUESTED","QuestionDetail","handleChoiceClick","selectChoice","handleVoteSubmit","choiceVote","activeQuestion","selectedChoice","renderChoice","selected","Table","Row","positive","Cell","collapsing","textAlign","Radio","checked","votes","Progress","total","value","precision","indicating","getQuestion","match","params","_this2","Divider","hidden","celled","definition","selectable","Body","Footer","fullWidth","HeaderCell","colSpan","Button","floated","labelPosition","icon","primary","disabled","Icon","name","QUESTION_FETCH_REQUESTED","actions","QUESTION_CHOICE_VOTE_REQUESTED","QUESTION_CHOICE_SELECTED","Routes","react_default","a","createElement","Switch","Route","exact","path","component","Component","className","routes_Routes","api","axios","get","concat","postChoice","choiceUrl","post","voteQuestion","fetchQuestion","fetchQuestions","sagas","res","regenerator_default","wrap","_context","prev","next","payload","sent","put","data","t0","stop","_marked","_context2","_marked2","_context3","_marked3","_context4","push","_marked4","_context5","all","takeLatest","_marked5","initialState","loading","undefined","errors","getTotalVotes","reduce","updateChoice","newChoice","reducer","arguments","type","objectSpread","rootSaga","fork","questionsSaga","store_marked","history","composeEnhancers","composeWithDevTools","sagaMiddleware","createSagaMiddleware","createBrowserHistory","basename","window","initialReduxState","store","createStore","combineReducers","router","connectRouter","questionsReducer","applyMiddleware","routerMiddleware","run","ReactDOM","render","es","esm","components_App","document","getElementById"],"mappings":"iKAYYA,85BCRL,IAIMC,EAAsB,SAACC,GAAD,OAAoBC,iBAAOH,EAAqBI,8BAA+BF,IACrGG,EAAmB,SAACC,GAAD,OAAqBH,iBAAOH,EAAqBO,4BAA6BD,IAGjGE,EAAyB,SAACC,GAAD,OAAwBN,iBAAOH,EAAqBU,yBAA0BD,IACvGE,EAAsB,SAACL,GAAD,OAAqBH,iBAAOH,EAAqBY,sBAAuBN,IAG9FO,EAA0B,SAACC,GAAD,OAA2BX,iBAAOH,EAAqBe,0BAA2BD,IAC5GE,EAAuB,SAACV,GAAD,OAAqBH,iBAAOH,EAAqBiB,uBAAwBX,iDCuB9FY,cA1Bb,SAAAA,EAAYC,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACxBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAMRQ,YAAc,WACZP,EAAKD,MAAMS,WAAWR,EAAKD,MAAMV,UACjCoB,QAAQC,IAAI,mBAAoBV,EAAKW,MAAMC,KAP3CZ,EAAKW,MAAQ,CACXC,GAAI,IAHkBZ,wEAYjB,IACCX,EAAac,KAAKJ,MAAlBV,SACR,OACEwB,EAAA,cAACC,EAAA,EAAD,CAAMC,OAAK,EAACC,QAASb,KAAKI,aACxBM,EAAA,cAACC,EAAA,EAAKG,QAAN,KACEJ,EAAA,cAACC,EAAA,EAAKI,OAAN,KAAc7B,EAASA,UACvBwB,EAAA,cAACC,EAAA,EAAKK,KAAN,KAAY,IAAIC,KAAK/B,EAASgC,cAAcC,kBAC5CT,EAAA,cAACC,EAAA,EAAKS,YAAN,KAAmBlC,EAASmC,QAAQC,OAApC,qBApBiBC,aCDZC,cACb,KAPyB,SAACC,GAC1B,MAAO,CACLpB,WAAY,SAACnB,GAAD,OAAwBuC,EFJd,SAACvC,GAAD,OAAwBN,iBAAOH,EAAqBiD,qBAAsBxC,GEInDmB,CAAWnB,OAI7CsC,CAGbG,GCmCaC,8LAtCX5B,KAAKJ,MAAMiC,gDAGJ,IACCtC,EAAcS,KAAKJ,MAAnBL,UACR,OACEmB,EAAA,cAACA,EAAA,SAAD,KACEA,EAAA,cAACoB,EAAA,EAAD,KACEpB,EAAA,cAACK,EAAA,EAAD,CAAQgB,GAAG,MAAX,aACArB,EAAA,cAACsB,EAAA,EAAD,CAAMC,WAAS,GACZ1C,EAAU+B,OACT/B,EAAU2C,IAAI,SAAAhD,GAAQ,OACpBwB,EAAA,cAACsB,EAAA,EAAKG,OAAN,CACEC,SAAU,EACVC,OAAQ,EACRC,OAAQ,GACRC,IAAKrD,EAASsD,KAEd9B,EAAA,cAAC+B,EAAD,CAAcvD,SAAUA,OAI5BwB,EAAA,cAACgC,EAAA,EAAD,CACEC,QAAM,EACNC,KAAK,QACLC,OAAO,WACPC,MAAO,CAAEC,UAAW,UAJtB,wBAxBaxB,aCUZC,cAdS,SAAChB,GACvB,MAAO,CACLjB,UAAWiB,EAAMjB,UAAUyD,OAAS,KAIb,SAACvB,GAC1B,MAAO,CACLI,aAAc,WACZJ,EJAuC7C,iBAAOH,EAAqBwE,+BIK1DzB,CAGbG,yDCiGauB,6MAvFbC,kBAAoB,SAACxE,GACnBkB,EAAKD,MAAMwD,aAAazE,MAG1B0E,iBAAmB,WACjBxD,EAAKD,MAAM0D,WAAWzD,EAAKD,MAAM2D,eAAgBC,mBAGnDC,aAAe,SAAC9E,GAAmB,IACzB4E,EAAmB1D,EAAKD,MAAxB2D,eACAC,EAAmBD,EAAnBC,eACFE,EAAWF,GAAkB7E,EAAO6D,MAAQgB,EAAehB,IAEjE,OADAlC,QAAQC,IAAI,4BAA6BiD,GAEvC9C,EAAA,cAACiD,EAAA,EAAMC,IAAP,CACErB,IAAK5D,EAAO6D,IACZ3B,QAAS,kBAAMhB,EAAKsD,kBAAkBxE,IACtCkF,SAAUH,GAEVhD,EAAA,cAACiD,EAAA,EAAMG,KAAP,CAAYC,YAAU,EAACC,UAAU,UAC/BtD,EAAA,cAACuD,EAAA,EAAD,CAAOC,QAASR,KAElBhD,EAAA,cAACiD,EAAA,EAAMG,KAAP,KAAanF,EAAOA,QACpB+B,EAAA,cAACiD,EAAA,EAAMG,KAAP,KAAanF,EAAOwF,MAApB,UACAzD,EAAA,cAACiD,EAAA,EAAMG,KAAP,KACEpD,EAAA,cAAC0D,EAAA,EAAD,CACEC,MAAOd,EAAgBc,MACvBC,MAAO3F,EAAOwF,MACdI,UAAW,EACXC,YAAU,0FAhClBxE,KAAKJ,MAAM6E,YAAYzE,KAAKJ,MAAM8E,MAAMC,OAAOlE,qCAuCxC,IAAAmE,EAAA5E,KACCuD,EAAmBvD,KAAKJ,MAAxB2D,eACR,OAAIA,EAEA7C,EAAA,cAACA,EAAA,SAAD,KACEA,EAAA,cAACoB,EAAA,EAAD,KACEpB,EAAA,cAACK,EAAA,EAAD,CAAQgB,GAAG,MAAX,oBACArB,EAAA,cAACK,EAAA,EAAD,CAAQgB,GAAG,MAAX,aAA2BwB,EAAerE,UAC1CwB,EAAA,cAACmE,EAAA,EAAD,CAASC,QAAM,IACfpE,EAAA,cAACiD,EAAA,EAAD,CAAOoB,QAAM,EAACC,YAAU,EAACC,YAAU,GACjCvE,EAAA,cAACiD,EAAA,EAAMuB,KAAP,KACG3B,EAAelC,QAAQa,IAAI,SAAAvD,GAAM,OAChCiG,EAAKnB,aAAa9E,MAItB+B,EAAA,cAACiD,EAAA,EAAMwB,OAAP,CAAcC,WAAS,GACrB1E,EAAA,cAACiD,EAAA,EAAMC,IAAP,KACElD,EAAA,cAACiD,EAAA,EAAM0B,WAAP,MACA3E,EAAA,cAACiD,EAAA,EAAM0B,WAAP,CAAkBC,QAAQ,KACxB5E,EAAA,cAAC6E,EAAA,EAAD,CACEC,QAAQ,QACRC,cAAc,OACdC,MAAI,EACJC,SAAO,EACPC,UAAWrC,EAAeC,eAC1B3C,QAASb,KAAKqD,kBAEd3C,EAAA,cAACmF,EAAA,EAAD,CAAMC,KAAK,QARb,oBAmBdpF,EAAA,cAACgC,EAAA,EAAD,CACEC,QAAM,EACNC,KAAK,QACLC,OAAO,WACPC,MAAO,CAAEC,UAAW,UAJtB,qBAjFuBxB,aCCdC,cArBS,SAAChB,GACvB,MAAO,CACL+C,eAAgB/C,EAAMjB,UAAUgE,iBAIT,SAAC9B,GAC1B,MAAO,CACLgD,YAAa,SAAChE,GACZgB,ENLgC,SAAChB,GAAD,OAAgB7B,iBAAOH,EAAqBsH,yBAA0B,CAAEtF,OMK/FuF,CAA+BvF,KAE1C6C,WAAY,SAAC3E,GACX8C,ENZ6B,SAAC9C,GAAD,OAAoBC,iBAAOH,EAAqBwH,+BAAgCtH,GMYpGqH,CAA4BrH,KAEvCyE,aAAc,SAACzE,GACb2B,QAAQC,IAAI,oBAAqB5B,GACjC8C,ENjBwB,SAAC9C,GAAD,OAAoBC,iBAAOH,EAAqByH,yBAA0BvH,GMiBzFqH,CAAuBrH,OAKvB6C,CAGbG,GC1BmBwE,mLAEjB,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW/E,IACjCwE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOE,KAAK,iBAAiBC,UAAWzD,aANd0D,aCHrBjF,mLCGX,OACEyE,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAACQ,EAAD,cAJUF,uDCDZpE,EAAM,iCAcGuE,GAZH,CACVtC,YAAa,SAAShE,GACpB,OAAOuG,IAAMC,IAAN,GAAAC,OAAa1E,EAAb,eAAA0E,OAA8BzG,KAEvCoB,aAAc,WACZ,OAAOmF,IAAMC,IAAN,GAAAC,OAAa1E,EAAb,gBAET2E,WAAY,SAASC,GACnB,OAAOJ,IAAMK,KAAN,GAAAH,OAAc1E,GAAd0E,OAAoBE,2BCNdE,gBASAC,gBASAC,gBASAnH,gBAIPoH,IA/BH,SAAUH,GAAa1I,GAAvB,IAAA8I,EAAA,OAAAC,EAAAtB,EAAAuB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAES,OAFTF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEe5H,YAAK4G,GAAII,WAAYvI,EAAOoJ,QAAQxF,KAFnD,OAGH,OADMkF,EAFHG,EAAAI,KAAAJ,EAAAE,KAAA,EAGGG,YAAIlC,EAA4B0B,EAAIS,OAHvC,OAAAN,EAAAE,KAAA,gBAKH,OALGF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAAAA,EAAAE,KAAA,GAKGG,YAAIlC,EAAA6B,EAAAO,KALP,yBAAAP,EAAAQ,SAAAC,GAAAtI,KAAA,SASA,SAAUuH,GAAc3I,GAAxB,IAAA8I,EAAA,OAAAC,EAAAtB,EAAAuB,KAAA,SAAAW,GAAA,cAAAA,EAAAT,KAAAS,EAAAR,MAAA,OAES,OAFTQ,EAAAT,KAAA,EAAAS,EAAAR,KAAA,EAEe5H,YAAK4G,GAAItC,YAAa7F,EAAOoJ,QAAQvH,IAFpD,OAGH,OADMiH,EAFHa,EAAAN,KAAAM,EAAAR,KAAA,EAGGG,YAAIlC,EAA+B0B,EAAIS,OAH1C,OAAAI,EAAAR,KAAA,gBAKH,OALGQ,EAAAT,KAAA,EAAAS,EAAAH,GAAAG,EAAA,SAAAA,EAAAR,KAAA,GAKGG,YAAIlC,EAAAuC,EAAAH,KALP,yBAAAG,EAAAF,SAAAG,GAAAxI,KAAA,SASA,SAAUwH,KAAV,IAAAE,EAAA,OAAAC,EAAAtB,EAAAuB,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,OAES,OAFTU,EAAAX,KAAA,EAAAW,EAAAV,KAAA,EAEe5H,YAAK4G,GAAIlF,cAFxB,OAGH,OADM6F,EAFHe,EAAAR,KAAAQ,EAAAV,KAAA,EAGGG,YAAIlC,EAAgC0B,EAAIS,OAH3C,OAAAM,EAAAV,KAAA,gBAKH,OALGU,EAAAX,KAAA,EAAAW,EAAAL,GAAAK,EAAA,SAAAA,EAAAV,KAAA,GAKGG,YAAIlC,EAAAyC,EAAAL,KALP,yBAAAK,EAAAJ,SAAAK,GAAA1I,KAAA,SASA,SAAUK,GAAWzB,GAArB,OAAA+I,EAAAtB,EAAAuB,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,OACL,OADKY,EAAAZ,KAAA,EACCG,YAAIU,aAAKhK,EAAOoJ,QAAQxF,MADzB,wBAAAmG,EAAAN,SAAAQ,GAAA7I,MAIP,SAAUyH,KAAV,OAAAE,EAAAtB,EAAAuB,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,OACE,OADFe,EAAAf,KAAA,EACQgB,YAAI,CACRC,YAAWvK,EAAqBiD,qBAAsBrB,IACtD2I,YAAWvK,EAAqBwH,+BAAgCqB,IAChE0B,YAAWvK,EAAqBsH,yBAA0BwB,IAC1DyB,YAAWvK,EAAqBwE,0BAA2BuE,MAL/D,wBAAAsB,EAAAT,SAAAY,GAAAjJ,MASeyH,mBC1CFyB,GAA+B,CAC1CC,SAAS,EACT5F,oBAAgB6F,EAChBpG,MAAO,GACPqG,YAAQD,GAGJE,GAAgB,SAACpK,GACrB,OAAOA,EAASmC,QAAQkI,OAAO,SAAClF,EAAO1F,GAAR,OAAmB0F,EAAQ1F,EAAOwF,OAAO,IAGpEqF,GAAe,SAACtK,EAAoBuK,GACxC,OAAOvK,EAASmC,QAAQa,IACtB,SAAAvD,GAAM,OAAKA,EAAO6D,MAAQiH,EAAUjH,IAAMiH,EAAY9K,KAIpD+K,GAAmC,WAAkC,IAAjClJ,EAAiCmJ,UAAArI,OAAA,QAAA8H,IAAAO,UAAA,GAAAA,UAAA,GAAzBT,GAActK,EAAW+K,UAAArI,OAAA,EAAAqI,UAAA,QAAAP,EACzE,OAAQxK,EAAOgL,MACb,KAAKnL,EAAqBU,yBACxB,IAAMD,EAAWN,EAAOoJ,QACxB,OAAOlI,OAAA+J,GAAA,EAAA/J,CAAA,GACFU,EADL,CAEE+C,eAAezD,OAAA+J,GAAA,EAAA/J,CAAA,CACbuE,MAAOiF,GAAcpK,GACrBsE,oBAAgB4F,GACblK,KAGT,KAAKT,EAAqBI,8BACxB,IAAMF,EAASC,EAAOoJ,QACtB,OAAOlI,OAAA+J,GAAA,EAAA/J,CAAA,GACFU,EADL,CAEE+C,eAAezD,OAAA+J,GAAA,EAAA/J,CAAA,GACVU,EAAM+C,eADG,CAEZc,MAAOiF,GAAwB9I,EAAM+C,gBACrClC,QAASmI,GAAuBhJ,EAAM+C,eAAgB5E,GACtD6E,oBAAgB4F,MAGtB,KAAK3K,EAAqByH,yBACxB,OAAOpG,OAAA+J,GAAA,EAAA/J,CAAA,GACFU,EADL,CAEE+C,eAAezD,OAAA+J,GAAA,EAAA/J,CAAA,GACVU,EAAM+C,eADG,CAEZC,eAAgB5E,EAAOoJ,YAG7B,KAAKvJ,EAAqBe,0BACxB,OAAOM,OAAA+J,GAAA,EAAA/J,CAAA,GAAKU,EAAZ,CAAmBwC,MAAOpE,EAAOoJ,UACnC,KAAKvJ,EAAqBiD,qBACxB,OAAO5B,OAAA+J,GAAA,EAAA/J,CAAA,GACFU,EADL,CAEE+C,oBAAgB6F,IAEpB,KAAK3K,EAAqBsH,yBAC1B,KAAKtH,EAAqBwE,0BAC1B,QACE,OAAOzC,gBChCIsJ,IAAV,SAAUA,KAAV,OAAAnC,EAAAtB,EAAAuB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACL,OADKF,EAAAE,KAAA,EACCgB,YAAI,CAACgB,YAAKC,MADX,wBAAAnC,EAAAQ,SAAA4B,GAAAjK,iBAR2BkK,GCV5BC,GAAmBC,8BAAoB,IACvCC,GAAiBC,cACjBJ,GAAUK,YAAqB,CAAEC,SAAU,8BAE3CtB,GAAeuB,OAAOC,kBACtBC,GAAQC,uBDKoBV,GCJdA,GDImCW,0BAAkC,CACvFC,OAAQC,YAAcb,IACtB3K,UAAWyL,MCLX9B,GACAiB,GAAiBc,0BAAgBC,YAAiBhB,IAAUG,MAG9DA,GAAec,IAAIrB,IAEnBsB,IAASC,OACPjF,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAUX,MAAOA,IACfvE,EAAAC,EAAAC,cAACiF,EAAA,EAAD,CAAiBrB,QAASA,IACxB9D,EAAAC,EAAAC,cAACkF,EAAD,QAGJC,SAASC,eAAe","file":"static/js/main.d3022873.chunk.js","sourcesContent":["import { Choice } from \"../choice/types\";\n\nexport interface Question {\n  id: number,\n  question: string,\n  published_at: Date,\n  url: string,\n  choices: Choice[]\n  selectedChoice?: Choice\n  total: number\n}\n\nexport enum QuestionsActionTypes {\n  QUESTION_SHOW_DETAIL = '@@questions/QUESTION_SHOW_DETAIL',\n  QUESTION_CHOICE_SELECTED = '@@questions/QUESTION_CHOICE_SELECTED',\n  QUESTION_CHOICE_VOTE_REQUESTED = '@@questions/QUESTION_CHOICE_VOTE_REQUESTED',\n  QUESTION_CHOICE_VOTE_SUCEEDED = '@@questions/QUESTION_CHOICE_VOTE_SUCEEDED',\n  QUESTION_CHOICE_VOTE_FAILED = '@@questions/QUESTION_CHOICE_VOTE_FAILED',\n  QUESTION_FETCH_REQUESTED = '@@questions/QUESTION_FETCH_REQUESTED',\n  QUESTION_FETCH_SUCCEEDED = '@@questions/QUESTION_FETCH_SUCCEEDED',\n  QUESTION_FETCH_FAILED = '@@questions/QUESTION_FETCH_FAILED',\n  QUESTIONS_FETCH_REQUESTED = '@@questions/QUESTIONS_FETCH_REQUESTED',\n  QUESTIONS_FETCH_SUCCEEDED = '@@questions/QUESTIONS_FETCH_SUCCEEDED',\n  QUESTIONS_FETCH_FAILED = '@@questions/QUESTIONS_FETCH_FAILED',\n}\n\n// Declare state types with `readonly` modifier to get compile time immutability.\n// https://github.com/piotrwitek/react-redux-typescript-guide#state-with-type-level-immutability\nexport interface QuestionsState {\n  readonly loading: boolean\n  readonly activeQuestion?: Question\n  readonly items: Question[]\n  readonly errors?: string\n}","import { action } from 'typesafe-actions'\nimport { QuestionsActionTypes, Question } from \"./types\";\nimport { Choice } from \"../choice/types\";\n\nexport const showDetail = (question: Question) => action(QuestionsActionTypes.QUESTION_SHOW_DETAIL, question);\n\nexport const choiceSelected = (choice: Choice) => action(QuestionsActionTypes.QUESTION_CHOICE_SELECTED, choice);\nexport const choiceVoteRequested = (choice: Choice) => action(QuestionsActionTypes.QUESTION_CHOICE_VOTE_REQUESTED, choice);\nexport const choiceVoteSucceeded = (choice: Choice) => action(QuestionsActionTypes.QUESTION_CHOICE_VOTE_SUCEEDED, choice);\nexport const choiceVoteFailed = (message: string) => action(QuestionsActionTypes.QUESTION_CHOICE_VOTE_FAILED, message);\n\nexport const fetchQuestionRequested = (id: number) => action(QuestionsActionTypes.QUESTION_FETCH_REQUESTED, { id });\nexport const fetchQuestionSucceeded = (question: Question) => action(QuestionsActionTypes.QUESTION_FETCH_SUCCEEDED, question);\nexport const fetchQuestionFailed = (message: string) => action(QuestionsActionTypes.QUESTION_FETCH_FAILED, message);\n\nexport const fetchQuestionsRequested = () => action(QuestionsActionTypes.QUESTIONS_FETCH_REQUESTED);\nexport const fetchQuestionsSucceeded = (questions: Question[]) => action(QuestionsActionTypes.QUESTIONS_FETCH_SUCCEEDED, questions);\nexport const fetchQuestionsFailed = (message: string) => action(QuestionsActionTypes.QUESTIONS_FETCH_FAILED, message);","import * as React from \"react\";\nimport { Card } from \"semantic-ui-react\";\nimport { Question } from \"../../../store/question/types\";\n\ninterface Props {\n  question: Question;\n  showDetail: any;\n}\n\ninterface State {\n  id: number;\n}\n\nclass QuestionCard extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      id: 10\n    };\n  }\n\n  handleClick = () => {\n    this.props.showDetail(this.props.question);\n    console.log(\"[dev:hugo] state\", this.state.id);\n  };\n\n  render() {\n    const { question } = this.props;\n    return (\n      <Card fluid onClick={this.handleClick}>\n        <Card.Content>\n          <Card.Header>{question.question}</Card.Header>\n          <Card.Meta>{new Date(question.published_at).toLocaleString()}</Card.Meta>\n          <Card.Description>{question.choices.length} choices</Card.Description>\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nexport default QuestionCard;\n","import { connect } from \"react-redux\";\nimport { Dispatch } from 'redux';\nimport { showDetail } from \"../../../store/question/actions\";\nimport template from \"./template\";\nimport { Question } from \"../../../store/question/types\";\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    showDetail: (question: Question) => dispatch(showDetail(question))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(template);\n","import * as React from 'react'\nimport { Grid, Container, Header, Loader } from \"semantic-ui-react\";\nimport QuestionCard from \"../QuestionCard\";\nimport { Question } from \"../../../store/question/types\";\n\ninterface Props {\n  getQuestions: any\n  questions: Question[]\n}\n\nclass QuestionList extends React.Component<Props> {\n  componentDidMount() {\n    this.props.getQuestions();\n  }\n\n  render() {\n    const { questions } = this.props;\n    return (\n      <React.Fragment>\n        <Container>\n          <Header as=\"h1\">Questions</Header>\n          <Grid stackable>\n            {questions.length ? (\n              questions.map(question => (\n                <Grid.Column\n                  computer={4}\n                  tablet={8}\n                  mobile={16}\n                  key={question.url}\n                >\n                  <QuestionCard question={question} />\n                </Grid.Column>\n              ))\n            ) : (\n              <Loader\n                active\n                size=\"large\"\n                inline=\"centered\"\n                style={{ marginTop: \"250px\" }}\n              >\n                Loading...\n              </Loader>\n            )}\n          </Grid>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default QuestionList;\n","import { connect } from \"react-redux\";\nimport { Dispatch } from 'redux';\nimport { fetchQuestionsRequested } from \"../../../store/question/actions\";\nimport template from \"./template\";\nimport { ApplicationState } from \"../../../store\"\n\nconst mapStateToProps = (state: ApplicationState) => {\n  return {\n    questions: state.questions.items || []\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    getQuestions: () => {\n      dispatch(fetchQuestionsRequested());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(template);\n","import * as React from 'react'\nimport { Choice } from \"../../../store/choice/types\";\nimport { Question } from \"../../../store/question/types\";\nimport { RouteComponentProps } from 'react-router'\nimport {\n  Button,\n  Divider,\n  Container,\n  Header,\n  Icon,\n  Progress,\n  Radio,\n  Loader,\n  Table\n} from \"semantic-ui-react\";\n\ninterface Props {\n  activeQuestion?: Question\n  choiceVote: any\n  getQuestion: any\n  selectChoice: any\n}\n\ninterface RouteProps {\n  id: string\n} \n\nclass QuestionDetail extends React.Component<Props & RouteComponentProps<RouteProps>> {\n\n  componentDidMount() {\n    this.props.getQuestion(this.props.match.params.id);\n  }\n\n  handleChoiceClick = (choice: Choice) => {\n    this.props.selectChoice(choice);\n  };\n\n  handleVoteSubmit = () => {\n    this.props.choiceVote(this.props.activeQuestion!.selectedChoice);\n  };\n\n  renderChoice = (choice: Choice) => {\n    const { activeQuestion } = this.props;\n    const { selectedChoice } = activeQuestion!;\n    const selected = selectedChoice && choice.url === selectedChoice.url;\n    console.log('[dev:hugo] selectedChoice', selectedChoice);\n    return (\n      <Table.Row\n        key={choice.url}\n        onClick={() => this.handleChoiceClick(choice)}\n        positive={selected}\n      >\n        <Table.Cell collapsing textAlign=\"center\">\n          <Radio checked={selected} />\n        </Table.Cell>\n        <Table.Cell>{choice.choice}</Table.Cell>\n        <Table.Cell>{choice.votes} votes</Table.Cell>\n        <Table.Cell>\n          <Progress\n            total={activeQuestion!.total}\n            value={choice.votes}\n            precision={0}\n            indicating\n          />\n        </Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  render() {\n    const { activeQuestion } = this.props;\n    if (activeQuestion) {\n      return (\n        <React.Fragment>\n          <Container>\n            <Header as=\"h1\">Questions detail</Header>\n            <Header as=\"h2\">Question: {activeQuestion.question}</Header>\n            <Divider hidden />\n            <Table celled definition selectable>\n              <Table.Body>\n                {activeQuestion.choices.map(choice =>\n                  this.renderChoice(choice)\n                )}\n              </Table.Body>\n\n              <Table.Footer fullWidth>\n                <Table.Row>\n                  <Table.HeaderCell />\n                  <Table.HeaderCell colSpan=\"4\">\n                    <Button\n                      floated=\"right\"\n                      labelPosition=\"left\"\n                      icon\n                      primary\n                      disabled={!activeQuestion.selectedChoice}\n                      onClick={this.handleVoteSubmit}\n                    >\n                      <Icon name=\"add\" /> Save Vote\n                    </Button>\n                  </Table.HeaderCell>\n                </Table.Row>\n              </Table.Footer>\n            </Table>\n          </Container>\n        </React.Fragment>\n      );\n    }\n    return (\n      <Loader\n        active\n        size=\"large\"\n        inline=\"centered\"\n        style={{ marginTop: \"250px\" }}\n      >\n        Loading...\n      </Loader>\n    );\n  }\n}\n\nexport default QuestionDetail;\n","import { connect } from \"react-redux\";\nimport * as actions from \"../../../store/question/actions\";\nimport template from \"./template\";\nimport { ApplicationState } from \"../../../store\"\nimport { Dispatch } from 'redux';\nimport { Choice } from \"../../../store/choice/types\";\n\nconst mapStateToProps = (state: ApplicationState) => {\n  return {\n    activeQuestion: state.questions.activeQuestion\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    getQuestion: (id: number) => {\n      dispatch(actions.fetchQuestionRequested(id));\n    },\n    choiceVote: (choice: Choice) => {\n      dispatch(actions.choiceVoteRequested(choice));\n    },\n    selectChoice: (choice: Choice) => {\n      console.log('[dev:hugo] choice', choice);\n      dispatch(actions.choiceSelected(choice));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(template);\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport QuestionList from \"./components/Question/QuestionList\";\nimport QuestionDetail from \"./components/Question/QuestionDetail\";\n\nexport default class Routes extends Component {\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route exact path=\"/\" component={QuestionList} />\n          <Route path=\"/questions/:id\" component={QuestionDetail} />\n        </Switch>\n      </div>\n    );\n  }\n}\n","import template from \"./template\";\n\nexport default template;\n","import React, { Component } from \"react\";\nimport Routes from \"../../routes\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Routes />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import axios from \"axios\";\n\nconst url = \"https://polls.apiblueprint.org\";\n\nconst api = {\n  getQuestion: function(id: number) {\n    return axios.get(`${url}/questions/${id}`);\n  },\n  getQuestions: function() {\n    return axios.get(`${url}/questions`);\n  },\n  postChoice: function(choiceUrl: string) {\n    return axios.post(`${url}${choiceUrl}`);\n  }\n};\n\nexport default api;\n","import { all, call, put, takeLatest } from \"redux-saga/effects\";\nimport { QuestionsActionTypes } from \"./types\"\nimport * as actions from \"./actions\";\nimport api from \"../../service/api\";\nimport { push } from \"connected-react-router\";\n\nexport function* voteQuestion(action: ReturnType<typeof actions.choiceVoteRequested>) {\n  try {\n    const res = yield call(api.postChoice, action.payload.url);\n    yield put(actions.choiceVoteSucceeded(res.data));\n  } catch (err) {\n    yield put(actions.choiceVoteFailed(err));\n  }\n}\n\nexport function* fetchQuestion(action: ReturnType<typeof actions.fetchQuestionRequested>) {\n  try {\n    const res = yield call(api.getQuestion, action.payload.id);\n    yield put(actions.fetchQuestionSucceeded(res.data));\n  } catch (err) {\n    yield put(actions.fetchQuestionFailed(err));\n  }\n}\n\nexport function* fetchQuestions() {\n  try {\n    const res = yield call(api.getQuestions);\n    yield put(actions.fetchQuestionsSucceeded(res.data));\n  } catch (err) {\n    yield put(actions.fetchQuestionsFailed(err));\n  }\n}\n\nexport function* showDetail(action: ReturnType<typeof actions.showDetail>) {\n  yield put(push(action.payload.url));\n}\n\nfunction* sagas() {\n  yield all([\n    takeLatest(QuestionsActionTypes.QUESTION_SHOW_DETAIL, showDetail),\n    takeLatest(QuestionsActionTypes.QUESTION_CHOICE_VOTE_REQUESTED, voteQuestion),\n    takeLatest(QuestionsActionTypes.QUESTION_FETCH_REQUESTED, fetchQuestion),\n    takeLatest(QuestionsActionTypes.QUESTIONS_FETCH_REQUESTED, fetchQuestions)\n  ]);\n}\n\nexport default sagas;\n","import { Reducer } from 'redux'\nimport { Question, QuestionsActionTypes, QuestionsState } from \"./types\";\nimport { Choice } from \"../choice/types\";\n\nexport const initialState: QuestionsState = {\n  loading: false,\n  activeQuestion: undefined,\n  items: [],\n  errors: undefined\n};\n\nconst getTotalVotes = (question: Question) => {\n  return question.choices.reduce((total, choice) => total + choice.votes, 0);\n};\n\nconst updateChoice = (question: Question, newChoice: Choice) => {\n  return question.choices.map(\n    choice => (choice.url === newChoice.url ? newChoice : choice)\n  );\n};\n\nconst reducer: Reducer<QuestionsState> = (state = initialState, action) => {\n  switch (action.type) {\n    case QuestionsActionTypes.QUESTION_FETCH_SUCCEEDED:\n      const question = action.payload;\n      return {\n        ...state,\n        activeQuestion: {\n          total: getTotalVotes(question),\n          selectedChoice: undefined,\n          ...question\n        }\n      };\n    case QuestionsActionTypes.QUESTION_CHOICE_VOTE_SUCEEDED:\n      const choice = action.payload;\n      return {\n        ...state,\n        activeQuestion: {\n          ...state.activeQuestion,\n          total: getTotalVotes(<Question>state.activeQuestion),\n          choices: updateChoice(<Question>state.activeQuestion, choice),\n          selectedChoice: undefined\n        }\n      };\n    case QuestionsActionTypes.QUESTION_CHOICE_SELECTED:\n      return {\n        ...state,\n        activeQuestion: {\n          ...state.activeQuestion,\n          selectedChoice: action.payload\n        }\n      };\n    case QuestionsActionTypes.QUESTIONS_FETCH_SUCCEEDED:\n      return { ...state, items: action.payload };\n    case QuestionsActionTypes.QUESTION_SHOW_DETAIL:\n      return {\n        ...state,\n        activeQuestion: undefined\n      };\n    case QuestionsActionTypes.QUESTION_FETCH_REQUESTED:\n    case QuestionsActionTypes.QUESTIONS_FETCH_REQUESTED:\n    default:\n      return state;\n  }\n};\n\n// Instead of using default export, we use named exports. That way we can group these exports\n// inside the `index.js` folder.\nexport { reducer as questionsReducer }\n","import { combineReducers, Dispatch, Action, AnyAction } from 'redux'\nimport { all, fork } from 'redux-saga/effects'\nimport { connectRouter, RouterState } from 'connected-react-router'\nimport { History } from 'history'\nimport questionsSaga from './question/sagas'\nimport { questionsReducer } from './question/reducers'\nimport { QuestionsState } from './question/types'\n\n// The top-level state object\nexport interface ApplicationState {\n  router: RouterState\n  questions: QuestionsState\n}\n\n// Additional props for connected React components. This prop is passed by default with `connect()`\nexport interface ConnectedReduxProps<A extends Action = AnyAction> {\n  dispatch: Dispatch<A>\n}\n\n// Whenever an action is dispatched, Redux will update each top-level application state property\n// using the reducer with the matching name. It's important that the names match exactly, and that\n// the reducer acts on the corresponding ApplicationState property type.\nexport const createRootReducer = (history: History) => combineReducers<ApplicationState>({\n  router: connectRouter(history),\n  questions: questionsReducer,\n})\n\n// Here we use `redux-saga` to trigger actions asynchronously. `redux-saga` uses something called a\n// \"generator function\", which you can read about here:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\nexport function* rootSaga() {\n  yield all([fork(questionsSaga)])\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { createBrowserHistory } from \"history\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { ConnectedRouter, routerMiddleware } from \"connected-react-router\";\nimport App from \"./components/App\";\nimport { createRootReducer, rootSaga } from './store';\nimport \"./index.css\";\n\nconst composeEnhancers = composeWithDevTools({});\nconst sagaMiddleware = createSagaMiddleware();\nconst history = createBrowserHistory({ basename: '/react-redux-saga-starter' });\n\nconst initialState = window.initialReduxState\nconst store = createStore(\n  createRootReducer(history),\n  initialState,\n  composeEnhancers(applyMiddleware(routerMiddleware(history), sagaMiddleware))\n);\n\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}