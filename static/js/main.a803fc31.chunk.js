(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,n){e.exports=n(326)},324:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(87),o=n.n(r),i=n(36),u=n(83),s=n(160),l=n(161),p=n(42),h=n(39),d=n(80),E="QUESTION_CHOICE_SELECTED",b="QUESTION_CHOICE_VOTE_REQUESTED",m="QUESTION_CHOICE_VOTE_SUCEEDED",O="QUESTION_CHOICE_VOTE_FAILED",f="QUESTION_FETCH_REQUESTED",v="QUESTION_FETCH_SUCCEEDED",j="QUESTION_FETCH_FAILED",C="QUESTION_SHOW_DETAIL",y="QUESTIONS_FETCH_REQUESTED",Q="QUESTIONS_FETCH_SUCCEEDED",g="QUESTIONS_FETCH_FAILED",k={items:[]},x=function(e){return e.choices.reduce(function(e,t){return e+t.votes},0)},S=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:var c=a.payload.question;return Object(d.a)({},n,{activeQuestion:Object(d.a)({total:x(c),selectedChoice:void 0},c)});case m:var r=a.payload.choice;return Object(d.a)({},n,{activeQuestion:Object(d.a)({},n.activeQuestion,{total:x(n.activeQuestion),choices:(e=n.activeQuestion.choices,t=r,e.map(function(e){return e.url===t.url?t:e})),selectedChoice:void 0})});case E:return Object(d.a)({},n,{activeQuestion:Object(d.a)({},n.activeQuestion,{selectedChoice:a.payload.choice})});case Q:return Object(d.a)({},n,a.payload);case C:return Object(d.a)({},n,{activeQuestion:void 0});case f:case y:default:return n}},T=n(21),w=n.n(T),_=n(43);var D=n(102),I=n.n(D),q="https://polls.apiblueprint.org",U={getQuestion:function(e){return I.a.get("".concat(q,"/questions/").concat(e))},getQuestions:function(){return I.a.get("".concat(q,"/questions"))},postChoice:function(e){return I.a.post("".concat(q).concat(e))}},H=n(5),F=w.a.mark(R),N=w.a.mark(M),A=w.a.mark(z),L=w.a.mark(B),V=w.a.mark(J);function R(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(_.b)(U.postChoice,t.choice.url);case 4:return n=a.sent,a.next=7,Object(_.d)((c=n.data,{type:m,payload:{choice:c}}));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(_.d)((a.t0,{type:O}));case 13:case"end":return a.stop()}var c},F,this,[[1,9]])}function M(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(_.b)(U.getQuestion,t.id);case 4:return n=a.sent,a.next=7,Object(_.d)((c=n.data,{type:v,payload:{question:c}}));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(_.d)((a.t0,{type:j}));case 13:case"end":return a.stop()}var c},N,this,[[1,9]])}function z(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.b)(U.getQuestions);case 3:return e=t.sent,t.next=6,Object(_.d)((n=e.data,{type:Q,payload:{items:n}}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(_.d)((t.t0,{type:g}));case 12:case"end":return t.stop()}var n},A,this,[[0,8]])}function B(e){var t;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(_.d)(Object(H.d)(t.question.url));case 3:case"end":return n.stop()}},L,this)}function J(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([Object(_.e)(C,B),Object(_.e)(b,R),Object(_.e)(f,M),Object(_.e)(y,z)]);case 2:case"end":return e.stop()}},V,this)}var W=J,P=w.a.mark(G);function G(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([Object(_.c)(W)]);case 2:case"end":return e.stop()}},P,this)}var K,X=n(29),Y=n(30),Z=n(37),$=n(31),ee=n(46),te=n(341),ne=n(342),ae=n(332),ce=n(339),re=n(340),oe=n(333),ie=n(337),ue=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(c)))).handleClick=function(){n.props.showDetail(n.props.question)},n}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props.question;return c.a.createElement(ie.a,{fluid:!0,onClick:this.handleClick},c.a.createElement(ie.a.Content,null,c.a.createElement(ie.a.Header,null,e.question),c.a.createElement(ie.a.Meta,null,new Date(e.published_at).toLocaleString()),c.a.createElement(ie.a.Description,null,e.choices.length," choices")))}}]),t}(a.Component),se=Object(i.c)(function(e){return{}},function(e){return{showDetail:function(t){e(function(e){return{type:C,payload:{question:e}}}(t))}}})(ue),le=function(e){function t(){return Object(X.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions()}},{key:"render",value:function(){var e=this.props.questions;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,null,c.a.createElement(ce.a,{as:"h1"},"Questions"),c.a.createElement(re.a,{stackable:!0},e.length?e.map(function(e){return c.a.createElement(re.a.Column,{computer:4,tablet:8,mobile:16,key:e.url},c.a.createElement(se,{question:e}))}):c.a.createElement(oe.a,{active:!0,size:"large",inline:"centered",style:{marginTop:"250px"}},"Loading..."))))}}]),t}(a.Component),pe=Object(i.c)(function(e){return{questions:e.questions.items||[]}},function(e){return{getQuestions:function(){e({type:y})}}})(le),he=n(336),de=n(343),Ee=n(334),be=n(335),me=n(338),Oe=n(147),fe=function(e){function t(){var e,n;Object(X.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).handleChoiceClick=function(e){n.props.selectChoice(e)},n.handleVoteSubmit=function(){n.props.choiceVote(n.props.activeQuestion.selectedChoice)},n.renderChoice=function(e){var t=n.props.activeQuestion,a=t.selectedChoice,r=void 0===a?{}:a,o=e.url===r.url;return c.a.createElement(he.a.Row,{key:e.url,onClick:function(){return n.handleChoiceClick(e)},positive:o},c.a.createElement(he.a.Cell,{collapsing:!0,textAlign:"center"},c.a.createElement(de.a,{checked:o})),c.a.createElement(he.a.Cell,null,e.choice),c.a.createElement(he.a.Cell,null,e.votes," votes"),c.a.createElement(he.a.Cell,null,c.a.createElement(Ee.a,{total:t.total,value:e.votes,precision:0,indicating:!0})))},n}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestion(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.props.activeQuestion;return t?c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,null,c.a.createElement(ce.a,{as:"h1"},"Questions detail"),c.a.createElement(ce.a,{as:"h2"},"Question: ",t.question),c.a.createElement(be.a,{hidden:!0}),c.a.createElement(he.a,{celled:!0,definition:!0,selectable:!0},c.a.createElement(he.a.Body,null,t.choices.map(function(t){return e.renderChoice(t)})),c.a.createElement(he.a.Footer,{fullWidth:!0},c.a.createElement(he.a.Row,null,c.a.createElement(he.a.HeaderCell,null),c.a.createElement(he.a.HeaderCell,{colSpan:"4"},c.a.createElement(me.a,{floated:"right",labelPosition:"left",icon:!0,primary:!0,disabled:!t.selectedChoice,onClick:this.handleVoteSubmit},c.a.createElement(Oe.a,{name:"add"})," Save Vote"))))))):c.a.createElement(oe.a,{active:!0,size:"large",inline:"centered",style:{marginTop:"250px"}},"Loading...")}}]),t}(a.Component),ve=Object(i.c)(function(e){return{activeQuestion:e.questions.activeQuestion}},function(e){return{getQuestion:function(t){e(function(e){return{type:f,payload:{id:e}}}(t))},choiceVote:function(t){e(function(e){return{type:b,payload:{choice:e}}}(t))},selectChoice:function(t){e(function(e){return{type:E,payload:{choice:e}}}(t))}}})(fe),je=function(e){function t(){return Object(X.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(te.a,null,c.a.createElement(ne.a,{exact:!0,path:"/",component:pe}),c.a.createElement(ne.a,{path:"/questions/:id",component:ve})))}}]),t}(a.Component),Ce=function(e){function t(){return Object(X.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(je,null))}}]),t}(a.Component),ye=(n(324),Object(l.a)()),Qe=Object(s.a)({basename:"/react-redux-saga-starter"}),ge=u.d,ke=Object(u.e)((K=Qe,Object(u.c)({router:Object(h.b)(K),questions:S})),ge(Object(u.a)(Object(p.a)(Qe),ye)));ye.run(G),o.a.render(c.a.createElement(i.a,{store:ke},c.a.createElement(h.a,{history:Qe},c.a.createElement(Ce,null))),document.getElementById("root"))}},[[173,2,1]]]);
//# sourceMappingURL=main.a803fc31.chunk.js.map